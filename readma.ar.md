# Nashir
[[English]](readme.md)

مكتبة لتمكين بناء ونشر تطبيقات الويب على خدمة استضافة "الأسس نت".

## الاستخدام

تفترض هذه الخطوات أن لديك بالفعل مشروعًا يستخدم مـنصة_ويب وتريد نشره.

* أضف المكتبة إلى مشروعك:

<div dir=rtl>

```
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/Nashir"، "نـاشر.أسس")؛
```

</div>

```
import "Apm";
Apm.importFile("Alusus/Nashir");
```

* انشئ دالة رئيسية لبدء الخادم. احرص على تشغيل الخادم على المنفذ 8000 واحرص ايضًا على الانتظار
  اللانهائي بعد تشغيل الخادم كي لا يخرج البرنامج مباشرة.

<div dir=rtl>

```
دالة ابدأ_الخادم {
    طـرفية.اطبع("تشغيل الخادم على المنفذ 8000...\ج")؛
    ابدأ_الخادم({ "listening_ports"، "8010"، "static_file_max_age"، "0" })؛
    طـرفية.اطبع("الخادم جاهز\ج")؛
    بينما 1 نـظام.نم(1000000)؛
}
```

</div>

```
func startServer {
    Console.print("Starting server on port 8000...\n");
    startServer({ "listening_ports", "8000", "static_file_max_age", "0" });
    Console.print("Server is running.\n");
    while 1 System.sleep(1000000);
}
```

* هيئ مكتبة الناشر في نهاية برنامجك. يمكنك تحديد قيمة إطناب بـ1 للحصول على معلومات مفصلة أكثر أثناء
  نشر المشروع.

<div dir=rtl>

```
نـاشر.إطناب = 0؛
نـاشر.هيئ[]؛
```

</div>

```
Nashir.verbose = false;
Nashir.initialize[];
```

* استدع ماكرو التشغيل بعد تهيئة الناشر مع إعطائه اسم دالة تشغيل الخادم ومصفوفة بمسارات الموارد
  التي يحتاجها التطبيق ومصفوفة بقائمة اعتماديات البناء.

<div dir=rtl>

```
نـاشر.ابدأ[
    ابدأ_الخادم،
    مـصفوفة[نـص]({ نـص("موارد") })،
    مـنصة_ويب.هات_اعتماديات_البناء()؛
]؛
```

</div>

```
Nashir.startup[
    startServer,
    Array[String]({ String("Assets") }),
    WebPlatform.getBuildDependencies()
];
```

* بعد إتمام هذه الخطوات سيمكنك تشغيل التطبيق مباشرة كما يلي:

<div dir=rtl>

```
الأسس بداية.أسس
```

</div>

```
alusus main.alusus
```

ويمكنك أيضًا بناء نسخة تنفيذية من المشروع:

<div dir=rtl>

```
الأسس بداية.أسس ابن
```

</div>

```
alusus main.alusus build
```

ويمكنك أيضًا نشر المشروع إلى "الأسس نت":

<div dir=rtl>

```
الأسس بداية.أسس انشر
```

</div>

```
alusus main.alusus publish
```

عند استدعاء أمر النشر ستبني المكتبة نسخة تنفيذية من المشروع ثم تطلب منك تسجيل الدخول بحساب "الأسس نت"
ثم تحمل المشروع إلى الخادم وتشغله تلقائيًا. اتبع التعيلمات التي ستظهر لك لإكمال النشر.

